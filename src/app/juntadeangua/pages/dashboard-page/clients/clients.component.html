<hr>
<br>
<h2 class="subtitle">CLIENTES</h2>
<hr>
<br>
<section class="contenedor-filtros">
  <div>
    <h4 class="title">Filtrar por ciudad:</h4>
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Rango</mat-label>
      <mat-select [(ngModel)]="selectedDefault1" (ngModelChange)="updateChartData()">
        <mat-option value="TODOS">TODOS</mat-option>
        <mat-option *ngFor="let ciudad of ciudades" [value]="ciudad.idCiudad">{{ ciudad.Ciudad }}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div>
    <h4 class="title">Filtrar por Pa√≠s:</h4>
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Rango</mat-label>
      <mat-select [(ngModel)]="selectedDefault2" (ngModelChange)="updateChartData()">
        <mat-option value="TODOS">TODOS</mat-option>
        <mat-option *ngFor="let pais of paises" [value]="pais.idPais">{{ pais.Pais }}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div>
    <h4 class="title">Filtrar por Tipo:</h4>
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Rango</mat-label>
      <mat-select [(ngModel)]="selectedDefault3" (ngModelChange)="updateChartData()">
        <mat-option value="TODOS">TODOS</mat-option>
        <mat-option *ngFor="let tipo of tipoClientes" [value]="tipo.idClienteTipo">{{ tipo.TipoCliente }}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
</section>

<hr>


<section class="contenedor-grafica">
  <div class="contenedor-datos">

    <div class="chart-container">
      <ngx-charts-number-card *ngFor="let data of dataSource"
        [view]="view2"
        scheme="forest"
        cardColor="#007d71"
        [results]="[{ 'name': data.nombre, 'value': data.valor }]">
      </ngx-charts-number-card>
    </div>

    <div class="pagination-buttons">
      <button mat-icon-button (click)="firstPage()" [disabled]="currentPage === 1">
        <mat-icon>first_page</mat-icon>
      </button>
      <button mat-icon-button (click)="prevPage()" [disabled]="currentPage === 1">
        <mat-icon>keyboard_arrow_left</mat-icon>
      </button>
      <div><span>{{ currentPage }} </span> <span> / </span> <span> {{ totalPages }}</span></div>
      <button mat-icon-button (click)="nextPage()" [disabled]="currentPage === totalPages">
        <mat-icon>keyboard_arrow_right</mat-icon>
      </button>
      <button mat-icon-button (click)="lastPage()" [disabled]="currentPage === totalPages">
        <mat-icon>last_page</mat-icon>
      </button>
    </div>

  <div class="contenedor-grafico">
    <ngx-charts-bar-horizontal
      [view]="view"
      scheme="forest"
      [results]="chartData"
      [gradient]="gradient"
      [xAxis]="axisX"
      [yAxis]="axisY"
      [legend]="showLegend"
      [showXAxisLabel]="showLabelsX"
      [showYAxisLabel]="showLabelsY"
      xAxisLabel="{{xAxisLabel}}"
      yAxisLabel="{{yAxisLabel}}">
    </ngx-charts-bar-horizontal>
  </div>
</div>
</section>
<hr>












<!-- <div class="total_datos">
  <h4>TOTAL REGISTROS <b>{{selectedDefault}}</b>: {{ getTotal() }}</h4>
</div>
<div style="display: block">
  <ngx-charts-pie-chart [view]="view" scheme="cool" [results]="chartData" [gradient]="gradient" [legend]="showLegend"
    [labels]="showLabels" [doughnut]="isDoughnut" (select)="onSelect($event)" (activate)="onActivate($event)"
    (deactivate)="onDeactivate($event)"></ngx-charts-pie-chart>
</div> -->




<!-- <h4 class="">Filtrar por fecha:</h4>
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Fecha</mat-label>
      <input matInput [matDatepicker]="picker" />
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field> -->
